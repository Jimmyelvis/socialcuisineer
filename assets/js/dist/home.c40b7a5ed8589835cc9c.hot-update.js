"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdatetest"]("home",{

/***/ "./assets/js/pages/HomePage.js":
/*!*************************************!*\
  !*** ./assets/js/pages/HomePage.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   homepage: () => (/* binding */ homepage)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\nvar Homepage = /*#__PURE__*/function () {\n  function Homepage() {\n    var _this = this;\n    _classCallCheck(this, Homepage);\n    this.events();\n    this.highLights = document.querySelector(\".highLights\");\n    this.summerNote = document.getElementById(\"summernote\");\n    this.inProgress = false;\n    this.indexBtns = document.querySelector(\".indexBtns\");\n\n    /**\n     * Add an event listener for the window object to detect\n     * a scroll event\n     *  */\n    document.addEventListener(\"scroll\", function () {\n      if (_this.indexBtns) {\n        _this.scrollView();\n      }\n    });\n    console.log('Homepage module loaded');\n  }\n  return _createClass(Homepage, [{\n    key: \"events\",\n    value: function events() {\n      this.loadPosts();\n      this.LoadhighLights();\n      this.summerNoteInit();\n      this.addPost();\n      this.indexTabs();\n    }\n  }, {\n    key: \"indexTabs\",\n    value: function indexTabs() {\n      var tabIndex = document.querySelectorAll(\".tabIndex\");\n      var btnTrends = document.getElementById(\"btnTrends\");\n      var btnAddPosts = document.getElementById(\"btnAddPosts\");\n      var btnTimeline = document.getElementById(\"btnTimeline\");\n      var tabTimeline = document.querySelector(\".tabTimeline\");\n      var tabAddPosts = document.querySelector(\".tabAddPosts\");\n      var tabTrends = document.querySelector(\".tabTrends\");\n\n      // Initialize tabs - only hide non-active ones\n      hideNonstartingTabsIndex();\n      var indextabslinks = [btnTimeline, btnAddPosts, btnTrends];\n      var indextabs = [tabTimeline, tabAddPosts, tabTrends];\n      indextabslinks.forEach(function (item, idx) {\n        item.addEventListener(\"click\", function () {\n          // First, find currently active tab\n          var activeTabIndex = indextabs.findIndex(function (tab) {\n            return tab.classList.contains(\"show\") && tab.style.display !== \"none\";\n          });\n          if (activeTabIndex === idx) return; // Don't do anything if clicking the active tab\n\n          // Hide current active tab\n          if (activeTabIndex !== -1) {\n            indextabs[activeTabIndex].classList.remove(\"show\");\n            setTimeout(function () {\n              indextabs[activeTabIndex].style.display = \"none\";\n\n              // Show the new tab\n              indextabs[idx].style.display = null;\n\n              // Force a reflow to ensure the display change is applied\n              void indextabs[idx].offsetHeight;\n\n              // Add the show class to trigger the transition\n              indextabs[idx].classList.add(\"show\");\n            }, 300);\n          } else {\n            // No active tab found, just show the selected one\n            indextabs[idx].style.display = null;\n            setTimeout(function () {\n              indextabs[idx].classList.add(\"show\");\n            }, 50);\n          }\n        });\n      });\n      function hideNonstartingTabsIndex() {\n        if (tabAddPosts && tabTrends) {\n          tabAddPosts.style.display = \"none\";\n          tabTrends.style.display = \"none\";\n        }\n      }\n    }\n\n    /**\n     * Loads posts from the server with pagination support\n     * \n     * This method handles fetching posts from the server via AJAX, rendering them\n     * in the DOM, and managing pagination markers for infinite scrolling. It includes\n     * safeguards against concurrent requests and provides user feedback during loading.\n     * \n     * The method is triggered in two scenarios:\n     * 1. Initial page load to display the first set of posts\n     * 2. When the user scrolls near the bottom of the page (via scrollView method)\n     */\n  }, {\n    key: \"loadPosts\",\n    value: function loadPosts() {\n      var _this2 = this;\n      var afterPost = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      // Prevent multiple simultaneous AJAX requests\n      // This is critical for infinite scrolling to avoid duplicate posts\n      if (this.inProgress === true) {\n        return;\n      }\n\n      // Set flag to indicate a request is in progress\n      this.inProgress = true;\n\n      // Get the container where posts will be displayed\n      var postsArea = document.querySelector('.posts_area');\n      if (!postsArea) {\n        // Exit if the posts container doesn't exist in the DOM\n        this.inProgress = false;\n        return;\n      }\n\n      // clear postArea\n\n      if (afterPost === true) {\n        postsArea.innerHTML = \"\";\n      }\n\n      // Determine which page to load\n      // For initial load, page=1; for subsequent loads, get page from hidden input\n      var nextPageElement = postsArea.querySelector('.nextPage');\n      var page = nextPageElement ? nextPageElement.value : 1;\n\n      // Clean up any existing pagination markers before adding new content\n      // This prevents duplicate markers that could interfere with infinite scrolling\n      var paginationElements = postsArea.querySelectorAll('.nextPage, .noMorePosts');\n      paginationElements.forEach(function (el) {\n        return el.remove();\n      });\n\n      // Create and display a loading indicator to provide user feedback\n      var loadingIndicator = document.createElement('div');\n      loadingIndicator.className = 'loading-indicator';\n      loadingIndicator.textContent = 'Loading posts...';\n      postsArea.appendChild(loadingIndicator);\n\n      // Make AJAX request to the server to fetch posts\n      // Uses fetch API with POST method to send pagination parameters\n      fetch('includes/handlers/ajax_load_posts.php', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        body: \"page=\".concat(page, \"&userLoggedIn=\").concat(userLoggedIn)\n      }).then(function (response) {\n        return response.json();\n      }) // Parse JSON response\n      .then(function (data) {\n        // Remove loading indicator once response is received\n        loadingIndicator.remove();\n\n        // Process successful response from server\n        if (data.status === 'success' && data.data) {\n          var responseData = data.data;\n          var posts = responseData.posts;\n          if (posts && posts.length > 0) {\n            // Render each post in the DOM\n            posts.forEach(function (post) {\n              // Create container element for the post\n              var postElement = document.createElement('div');\n              postElement.className = 'recipe-card card'; // CSS classes for styling\n              postElement.dataset.postid = post.id; // Store post ID as data attribute\n\n              // Build post HTML structure using template literals\n              // This creates the complete card with user image, content, and stats\n              /*html*/\n              postElement.innerHTML = \"\\n              <div class=\\\"card-userImage\\\">\\n                <img src=\\\"\".concat(post.added_by.profile_pic, \"\\\" alt=\\\"\\\">\\n              </div>\\n              \\n\\n              \\n              <div class=\\\"card-info\\\">\\n                <div class=\\\"card-desc\\\">\\n                  <div class=\\\"block\\\"></div>\\n                  <div class=\\\"card-headings\\\">\\n                    <h2 class=\\\"heading-2\\\">\\n                      <a href=\\\"\").concat(post.link, \"\\\">\").concat(post.heading, \"</a>\\n                    </h2>\\n                    <h3 class=\\\"heading-3\\\">\\n                      \").concat(post.added_by.first_name, \" \").concat(post.added_by.last_name, \"\\n                    </h3>\\n                    <h4 class=\\\"heading-4\\\">\\n                      \").concat(post.time_message, \"\\n                    </h4>\\n                  </div>\\n                </div>\\n                \\n                <div class=\\\"card-stats\\\">\\n                  <div class=\\\"likes\\\">\\n                    <h4 class=\\\"heading-4\\\">\").concat(post.likes, \"</h4>\\n                    <img src=\\\"./assets/img/like-v2.svg\\\" alt=\\\"\\\">\\n                  </div>\\n                  <div class=\\\"comments\\\">\\n                    <h4 class=\\\"heading-4\\\">\").concat(post.comments_count, \"</h4>\\n                    <img src=\\\"./assets/img/comments-v2.svg\\\" alt=\\\"\\\">\\n                  </div>\\n                </div>\\n              </div>\\n              \\n              <div class=\\\"overlay\\\"></div>\\n              \").concat(post.image ? \"<img src=\\\"\".concat(post.image, \"\\\" class=\\\"card-bg\\\">\") : '', \"\\n            \");\n\n              // Add the completed post element to the posts container\n              postsArea.appendChild(postElement);\n            });\n\n            // Handle pagination based on server response\n            if (responseData.has_more) {\n              // If more posts exist, add hidden input with next page number\n              // This will be used by scrollView to load the next batch\n              var nextPageInput = document.createElement('input');\n              nextPageInput.type = 'hidden';\n              nextPageInput.className = 'nextPage';\n              nextPageInput.value = responseData.next_page;\n              postsArea.appendChild(nextPageInput);\n            } else {\n              // If no more posts exist, add marker to prevent further requests\n              var noMorePostsInput = document.createElement('input');\n              noMorePostsInput.type = 'hidden';\n              noMorePostsInput.className = 'noMorePosts';\n              noMorePostsInput.value = 'true';\n              postsArea.appendChild(noMorePostsInput);\n\n              // Also add visible message indicating end of content\n              var noMorePostsMessage = document.createElement('p');\n              noMorePostsMessage.className = 'noMorePosts column';\n              noMorePostsMessage.textContent = 'No more posts to show!';\n              postsArea.appendChild(noMorePostsMessage);\n            }\n          } else {\n            // Handle case where no posts were returned (empty array)\n            var noPostsMessage = document.createElement('p');\n            noPostsMessage.className = 'no-posts-message';\n            noPostsMessage.textContent = 'No posts to show.';\n            postsArea.appendChild(noPostsMessage);\n\n            // Add marker to prevent further requests\n            var _noMorePostsInput = document.createElement('input');\n            _noMorePostsInput.type = 'hidden';\n            _noMorePostsInput.className = 'noMorePosts';\n            _noMorePostsInput.value = 'true';\n            postsArea.appendChild(_noMorePostsInput);\n          }\n        } else {\n          // Handle error response from server\n          console.error('Error loading posts:', data.message || 'Unknown error');\n        }\n      })[\"catch\"](function (error) {\n        // Handle network errors or JSON parsing failures\n        console.error('Error loading posts:', error);\n        loadingIndicator.remove();\n      })[\"finally\"](function () {\n        // Reset progress flag regardless of success or failure\n        // This allows future requests to be made\n        _this2.inProgress = false;\n      });\n    }\n  }, {\n    key: \"LoadhighLights\",\n    value: function LoadhighLights() {\n      var _this3 = this;\n      fetch('includes/handlers/ajax_load_highlight_posts.php', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        body: \"userLoggedIn=\".concat(userLoggedIn)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        if (data.status === 'success' && data.data) {\n          var posts = data.data;\n          if (posts.length > 0) {\n            // Render each post in the DOM\n            posts.forEach(function (post) {\n              // Create container element for the post\n              var postElement = document.createElement('div');\n              postElement.className = 'recipe-card card'; // CSS classes for styling\n              postElement.dataset.postid = post.id; // Store post ID as data attribute\n\n              // Build post HTML structure using template literals\n              // This creates the complete card with user image, content, and stats\n              /*html*/\n              postElement.innerHTML = \"\\n              <div class=\\\"card-userImage\\\">\\n                <img src=\\\"\".concat(post.added_by.profile_pic, \"\\\" alt=\\\"\\\">\\n              </div>\\n\\n              \\n              <div class=\\\"card-info\\\">\\n                <div class=\\\"card-desc\\\">\\n                  <div class=\\\"block\\\"></div>\\n                  <div class=\\\"card-headings\\\">\\n                    <h2 class=\\\"heading-2\\\">\\n                      <a href=\\\"\").concat(post.link, \"\\\">\").concat(post.heading, \"</a>\\n                    </h2>\\n                    <h3 class=\\\"heading-3\\\">\\n                      \").concat(post.added_by.first_name, \" \").concat(post.added_by.last_name, \"\\n                    </h3>\\n                    <h4 class=\\\"heading-4\\\">\\n                      \").concat(post.time_message, \"\\n                    </h4>\\n                  </div>\\n                </div>\\n                \\n                <div class=\\\"card-stats\\\">\\n                  <div class=\\\"likes\\\">\\n                    <h4 class=\\\"heading-4\\\">\").concat(post.likes, \"</h4>\\n                    <img src=\\\"./assets/img/like-v2.svg\\\" alt=\\\"\\\">\\n                  </div>\\n                  <div class=\\\"comments\\\">\\n                    <h4 class=\\\"heading-4\\\">\").concat(post.comments_count, \"</h4>\\n                    <img src=\\\"./assets/img/comments-v2.svg\\\" alt=\\\"\\\">\\n                  </div>\\n                </div>\\n              </div>\\n              \\n              <div class=\\\"overlay\\\"></div>\\n              \").concat(post.image ? \"<img src=\\\"\".concat(post.image, \"\\\" class=\\\"card-bg\\\">\") : '', \"\\n            \");\n\n              // Add the completed post element to the posts container\n              _this3.highLights.appendChild(postElement);\n            });\n          }\n        } else if (data.status === 'error') {\n          console.error('Error loading highlights:', data.message);\n        }\n      })[\"catch\"](function (error) {\n        console.error('Error loading highlights:', error);\n      });\n    }\n  }, {\n    key: \"scrollView\",\n    value: function scrollView() {\n      // Check if posts area exists\n      var postsArea = document.querySelector(\".posts_area\");\n      if (!postsArea) return;\n\n      // Check if we've reached the end of posts\n      var noMorePostsElement = postsArea.querySelector(\".noMorePosts\");\n      if (noMorePostsElement && noMorePostsElement.value === \"true\") return;\n\n      // Get all recipe cards\n      var recipecards = document.querySelectorAll(\".recipe-card\");\n      if (recipecards.length === 0) return;\n\n      // Check if we're near the bottom of the page\n      var scrollPosition = window.scrollY;\n      var windowHeight = window.innerHeight;\n      var documentHeight = document.documentElement.scrollHeight;\n\n      // If we're within 200px of the bottom, load more posts\n      if (scrollPosition + windowHeight >= documentHeight - 200) {\n        this.loadPosts();\n      }\n    }\n  }, {\n    key: \"isElementInView\",\n    value: function isElementInView(el) {\n      if (el == null) {\n        return;\n      }\n      var rect = el.getBoundingClientRect();\n      return rect.top >= 0 && rect.left >= 0 && rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n      //* or $(window).height()\n      rect.right <= (window.innerWidth || document.documentElement.clientWidth) //* or $(window).width()\n      ;\n    }\n  }, {\n    key: \"summerNoteInit\",\n    value: function summerNoteInit() {\n      $(\"#summernote\").summernote({\n        height: 400,\n        placeholder: \"write here...\"\n      });\n    }\n  }, {\n    key: \"addPost\",\n    value: function addPost() {\n      var _this4 = this;\n      var inpFile = document.getElementById(\"inpFile\");\n      var previewContainer = document.getElementById(\"imgPreview\");\n      var previewImage = document.querySelector(\".img-preview-image\");\n      var previewDefaultText = document.querySelector(\".imgPreview-DefaultTxt\");\n      var postForm = document.querySelector(\".tabAddPosts form\");\n      var postButton = document.getElementById(\"post_button\");\n\n      // Set up AJAX form submission\n      if (postForm && postButton) {\n        console.log('Setting up AJAX form submission');\n\n        // Prevent form from submitting traditionally\n        postForm.addEventListener('submit', function (e) {\n          e.preventDefault();\n          console.log('Form submit prevented');\n        });\n        postButton.addEventListener(\"click\", function (e) {\n          e.preventDefault(); // Prevent traditional form submission\n          console.log('Post button clicked, starting AJAX submission');\n\n          // Get form data (this automatically includes file inputs)\n          var formData = new FormData(postForm);\n\n          // Add the post field to trigger PHP handler (submit button name)\n          formData.append('post', 'Post');\n\n          // Add a field to indicate this is an AJAX request\n          formData.append('ajax_request', '1');\n\n          // Show loading indicator\n          var originalText = postButton.value;\n          postButton.value = \"Posting...\";\n          postButton.disabled = true;\n\n          // Add header to indicate this is an AJAX request\n          var headers = new Headers();\n          headers.append('X-Requested-With', 'XMLHttpRequest');\n          console.log('Sending AJAX request with:', {\n            \"headers\": Array.from(headers.entries()),\n            \"formData entries\": Array.from(formData.entries())\n          });\n\n          // Submit via AJAX\n          fetch('index.php', {\n            method: 'POST',\n            headers: headers,\n            body: formData // This includes the file data\n          }).then(function (response) {\n            console.log('Response received:', response);\n            console.log('Response status:', response.status);\n            console.log('Response headers:', Array.from(response.headers.entries()));\n\n            // Check if the response is JSON\n            var contentType = response.headers.get(\"content-type\");\n            console.log('Content type:', contentType);\n            if (contentType && contentType.indexOf(\"application/json\") !== -1) {\n              return response.json();\n            } else {\n              // Get the text response to see what we're actually getting\n              return response.text().then(function (text) {\n                console.log('Non-JSON response received:', text);\n                throw new Error('Expected JSON response but got: ' + contentType);\n              });\n            }\n          }).then(function (data) {\n            if (data && data.success) {\n              // Clear form\n              postForm.reset();\n\n              // Reset preview\n              previewImage.setAttribute(\"src\", \"\");\n              previewDefaultText.style.display = \"block\";\n              previewImage.style.display = \"none\";\n\n              // Reset summernote editor if it exists\n              if (window.jQuery && $('#summernote').length) {\n                $('#summernote').summernote('reset');\n              }\n\n              // Show success message\n              alert(\"Post created successfully!\");\n\n              // Switch to timeline tab to see the new post\n              document.getElementById(\"btnTimeline\").click();\n\n              // Reload posts\n              var afterPost = true;\n              _this4.loadPosts(afterPost);\n            } else if (data && data.error) {\n              alert(data.error);\n            }\n\n            // Reset button\n            postButton.value = originalText;\n            postButton.disabled = false;\n          })[\"catch\"](function (error) {\n            console.error('Error:', error);\n            alert(\"Error creating post\", error);\n            console.log(\"error\", error);\n\n            // Reset button\n            postButton.value = originalText;\n            postButton.disabled = false;\n          });\n        });\n      }\n      Array.prototype.forEach.call(document.querySelectorAll(\".file-upload-button\"), function (button) {\n        var hiddenInput = button.parentElement.querySelector(\".inpFile\");\n        var label = button.parentElement.querySelector(\".file-upload-label\");\n        var defaultLabelText = \"No file selected\";\n\n        // Set default text for label\n        label.textContent = defaultLabelText;\n        label.title = defaultLabelText;\n        button.addEventListener(\"click\", function () {\n          hiddenInput.click();\n        });\n        hiddenInput.addEventListener(\"change\", function () {\n          var filenameList = Array.prototype.map.call(hiddenInput.files, function (file) {\n            return file.name;\n          });\n          label.textContent = filenameList.join(\", \") || defaultLabelText;\n          label.title = label.textContent;\n        });\n      });\n      var prevPhoto = previewImage.getAttribute(\"src\");\n      if (previewImage.getAttribute(\"src\") == \"\") {\n        previewImage.setAttribute(\"src\", null);\n      } else {\n        previewImage.style.display = \"block\";\n        previewDefaultText.style.display = \"none\";\n      }\n      inpFile.addEventListener(\"change\", function () {\n        var file = this.files[0];\n        if (file) {\n          var reader = new FileReader();\n          previewDefaultText.style.display = \"none\";\n          previewImage.style.display = \"block\";\n          reader.addEventListener(\"load\", function () {\n            previewImage.setAttribute(\"src\", this.result);\n\n            // getCroppedImage(\"src\", this.result);\n          });\n          reader.readAsDataURL(file);\n        } else {\n          previewDefaultText.style.display = \"block\";\n          previewImage.style.display = \"none\";\n          if (previewImage.getAttribute(\"src\") == \"\") {\n            previewImage.setAttribute(\"src\", null);\n          }\n        }\n      });\n    }\n  }]);\n}();\nvar homepage = new Homepage();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxPQUFPLEdBQUcsT0FBTztVQUVwQ2dJLE1BQU0sQ0FBQ2hLLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxZQUFZO1lBQzFDc0gsWUFBWSxDQUFDc0IsWUFBWSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUNzQixNQUFNLENBQUM7O1lBRTdDO1VBQ0YsQ0FBQyxDQUFDO1VBRUZGLE1BQU0sQ0FBQ0csYUFBYSxDQUFDUixJQUFJLENBQUM7UUFDNUIsQ0FBQyxNQUFNO1VBQ0xwQyxrQkFBa0IsQ0FBQ3hGLEtBQUssQ0FBQ0MsT0FBTyxHQUFHLE9BQU87VUFDMUNzRixZQUFZLENBQUN2RixLQUFLLENBQUNDLE9BQU8sR0FBRyxNQUFNO1VBRW5DLElBQUlzRixZQUFZLENBQUN5QyxZQUFZLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxFQUFFO1lBQzFDekMsWUFBWSxDQUFDc0IsWUFBWSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUM7VUFDeEM7UUFDRjtNQUNGLENBQUMsQ0FBQztJQUNKO0VBQUM7QUFBQTtBQUlJLElBQU13QixRQUFRLEdBQUcsSUFBSS9LLFFBQVEsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVzdC8uL2Fzc2V0cy9qcy9wYWdlcy9Ib21lUGFnZS5qcz83YjM3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBheGlvcyBmcm9tIFwiYXhpb3NcIjtcblxuXG5cbmNsYXNzIEhvbWVwYWdlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5ldmVudHMoKTtcbiAgICB0aGlzLmhpZ2hMaWdodHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhpZ2hMaWdodHNcIik7XG4gICAgdGhpcy5zdW1tZXJOb3RlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdW1tZXJub3RlXCIpO1xuICAgIHRoaXMuaW5Qcm9ncmVzcyA9IGZhbHNlO1xuXG4gICAgdGhpcy5pbmRleEJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmluZGV4QnRuc1wiKTtcblxuICAgIC8qKlxuICAgICAqIEFkZCBhbiBldmVudCBsaXN0ZW5lciBmb3IgdGhlIHdpbmRvdyBvYmplY3QgdG8gZGV0ZWN0XG4gICAgICogYSBzY3JvbGwgZXZlbnRcbiAgICAgKiAgKi9cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsICgpID0+IHtcbiAgICAgIGlmICh0aGlzLmluZGV4QnRucykge1xuICAgICAgICB0aGlzLnNjcm9sbFZpZXcoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnNvbGUubG9nKCdIb21lcGFnZSBtb2R1bGUgbG9hZGVkJyk7XG4gIH1cblxuICBldmVudHMoKSB7XG4gICAgdGhpcy5sb2FkUG9zdHMoKTtcbiAgICB0aGlzLkxvYWRoaWdoTGlnaHRzKCk7XG4gICAgdGhpcy5zdW1tZXJOb3RlSW5pdCgpO1xuICAgIHRoaXMuYWRkUG9zdCgpO1xuICAgIHRoaXMuaW5kZXhUYWJzKCk7XG4gIH1cblxuICBpbmRleFRhYnMoKSB7XG4gICAgY29uc3QgdGFiSW5kZXggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRhYkluZGV4XCIpO1xuICAgIGNvbnN0IGJ0blRyZW5kcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuVHJlbmRzXCIpO1xuICAgIGNvbnN0IGJ0bkFkZFBvc3RzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG5BZGRQb3N0c1wiKTtcbiAgICBjb25zdCBidG5UaW1lbGluZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuVGltZWxpbmVcIik7XG4gICAgY29uc3QgdGFiVGltZWxpbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhYlRpbWVsaW5lXCIpO1xuICAgIGNvbnN0IHRhYkFkZFBvc3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YWJBZGRQb3N0c1wiKTtcbiAgICBjb25zdCB0YWJUcmVuZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhYlRyZW5kc1wiKTtcblxuICAgIC8vIEluaXRpYWxpemUgdGFicyAtIG9ubHkgaGlkZSBub24tYWN0aXZlIG9uZXNcbiAgICBoaWRlTm9uc3RhcnRpbmdUYWJzSW5kZXgoKTtcblxuICAgIGxldCBpbmRleHRhYnNsaW5rcyA9IFtidG5UaW1lbGluZSwgYnRuQWRkUG9zdHMsIGJ0blRyZW5kc107XG4gICAgbGV0IGluZGV4dGFicyA9IFt0YWJUaW1lbGluZSwgdGFiQWRkUG9zdHMsIHRhYlRyZW5kc107XG5cbiAgICBpbmRleHRhYnNsaW5rcy5mb3JFYWNoKChpdGVtLCBpZHgpID0+IHtcbiAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgLy8gRmlyc3QsIGZpbmQgY3VycmVudGx5IGFjdGl2ZSB0YWJcbiAgICAgICAgY29uc3QgYWN0aXZlVGFiSW5kZXggPSBpbmRleHRhYnMuZmluZEluZGV4KHRhYiA9PiBcbiAgICAgICAgICB0YWIuY2xhc3NMaXN0LmNvbnRhaW5zKFwic2hvd1wiKSAmJiB0YWIuc3R5bGUuZGlzcGxheSAhPT0gXCJub25lXCIpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGFjdGl2ZVRhYkluZGV4ID09PSBpZHgpIHJldHVybjsgLy8gRG9uJ3QgZG8gYW55dGhpbmcgaWYgY2xpY2tpbmcgdGhlIGFjdGl2ZSB0YWJcbiAgICAgICAgXG4gICAgICAgIC8vIEhpZGUgY3VycmVudCBhY3RpdmUgdGFiXG4gICAgICAgIGlmIChhY3RpdmVUYWJJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICBpbmRleHRhYnNbYWN0aXZlVGFiSW5kZXhdLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIpO1xuICAgICAgICAgIFxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaW5kZXh0YWJzW2FjdGl2ZVRhYkluZGV4XS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFNob3cgdGhlIG5ldyB0YWJcbiAgICAgICAgICAgIGluZGV4dGFic1tpZHhdLnN0eWxlLmRpc3BsYXkgPSBudWxsO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBGb3JjZSBhIHJlZmxvdyB0byBlbnN1cmUgdGhlIGRpc3BsYXkgY2hhbmdlIGlzIGFwcGxpZWRcbiAgICAgICAgICAgIHZvaWQgaW5kZXh0YWJzW2lkeF0ub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBBZGQgdGhlIHNob3cgY2xhc3MgdG8gdHJpZ2dlciB0aGUgdHJhbnNpdGlvblxuICAgICAgICAgICAgaW5kZXh0YWJzW2lkeF0uY2xhc3NMaXN0LmFkZChcInNob3dcIik7XG4gICAgICAgICAgfSwgMzAwKTsgXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTm8gYWN0aXZlIHRhYiBmb3VuZCwganVzdCBzaG93IHRoZSBzZWxlY3RlZCBvbmVcbiAgICAgICAgICBpbmRleHRhYnNbaWR4XS5zdHlsZS5kaXNwbGF5ID0gbnVsbDtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGluZGV4dGFic1tpZHhdLmNsYXNzTGlzdC5hZGQoXCJzaG93XCIpO1xuICAgICAgICAgIH0sIDUwKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBoaWRlTm9uc3RhcnRpbmdUYWJzSW5kZXgoKSB7XG4gICAgICBpZiAodGFiQWRkUG9zdHMgJiYgdGFiVHJlbmRzKSB7XG4gICAgICAgIHRhYkFkZFBvc3RzLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgdGFiVHJlbmRzLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTG9hZHMgcG9zdHMgZnJvbSB0aGUgc2VydmVyIHdpdGggcGFnaW5hdGlvbiBzdXBwb3J0XG4gICAqIFxuICAgKiBUaGlzIG1ldGhvZCBoYW5kbGVzIGZldGNoaW5nIHBvc3RzIGZyb20gdGhlIHNlcnZlciB2aWEgQUpBWCwgcmVuZGVyaW5nIHRoZW1cbiAgICogaW4gdGhlIERPTSwgYW5kIG1hbmFnaW5nIHBhZ2luYXRpb24gbWFya2VycyBmb3IgaW5maW5pdGUgc2Nyb2xsaW5nLiBJdCBpbmNsdWRlc1xuICAgKiBzYWZlZ3VhcmRzIGFnYWluc3QgY29uY3VycmVudCByZXF1ZXN0cyBhbmQgcHJvdmlkZXMgdXNlciBmZWVkYmFjayBkdXJpbmcgbG9hZGluZy5cbiAgICogXG4gICAqIFRoZSBtZXRob2QgaXMgdHJpZ2dlcmVkIGluIHR3byBzY2VuYXJpb3M6XG4gICAqIDEuIEluaXRpYWwgcGFnZSBsb2FkIHRvIGRpc3BsYXkgdGhlIGZpcnN0IHNldCBvZiBwb3N0c1xuICAgKiAyLiBXaGVuIHRoZSB1c2VyIHNjcm9sbHMgbmVhciB0aGUgYm90dG9tIG9mIHRoZSBwYWdlICh2aWEgc2Nyb2xsVmlldyBtZXRob2QpXG4gICAqL1xuICBsb2FkUG9zdHMoYWZ0ZXJQb3N0ID0gZmFsc2UpIHtcbiAgICAvLyBQcmV2ZW50IG11bHRpcGxlIHNpbXVsdGFuZW91cyBBSkFYIHJlcXVlc3RzXG4gICAgLy8gVGhpcyBpcyBjcml0aWNhbCBmb3IgaW5maW5pdGUgc2Nyb2xsaW5nIHRvIGF2b2lkIGR1cGxpY2F0ZSBwb3N0c1xuICAgIGlmICh0aGlzLmluUHJvZ3Jlc3MgPT09IHRydWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBTZXQgZmxhZyB0byBpbmRpY2F0ZSBhIHJlcXVlc3QgaXMgaW4gcHJvZ3Jlc3NcbiAgICB0aGlzLmluUHJvZ3Jlc3MgPSB0cnVlO1xuXG4gICAgLy8gR2V0IHRoZSBjb250YWluZXIgd2hlcmUgcG9zdHMgd2lsbCBiZSBkaXNwbGF5ZWRcbiAgICBjb25zdCBwb3N0c0FyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9zdHNfYXJlYScpO1xuICAgIGlmICghcG9zdHNBcmVhKSB7XG4gICAgICAvLyBFeGl0IGlmIHRoZSBwb3N0cyBjb250YWluZXIgZG9lc24ndCBleGlzdCBpbiB0aGUgRE9NXG4gICAgICB0aGlzLmluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBjbGVhciBwb3N0QXJlYVxuXG4gICAgaWYgKGFmdGVyUG9zdCA9PT0gdHJ1ZSkge1xuICAgICAgcG9zdHNBcmVhLmlubmVySFRNTCA9IFwiXCI7IFxuICAgIH1cblxuICAgIC8vIERldGVybWluZSB3aGljaCBwYWdlIHRvIGxvYWRcbiAgICAvLyBGb3IgaW5pdGlhbCBsb2FkLCBwYWdlPTE7IGZvciBzdWJzZXF1ZW50IGxvYWRzLCBnZXQgcGFnZSBmcm9tIGhpZGRlbiBpbnB1dFxuICAgIGNvbnN0IG5leHRQYWdlRWxlbWVudCA9IHBvc3RzQXJlYS5xdWVyeVNlbGVjdG9yKCcubmV4dFBhZ2UnKTtcbiAgICBjb25zdCBwYWdlID0gbmV4dFBhZ2VFbGVtZW50ID8gbmV4dFBhZ2VFbGVtZW50LnZhbHVlIDogMTtcblxuICAgIC8vIENsZWFuIHVwIGFueSBleGlzdGluZyBwYWdpbmF0aW9uIG1hcmtlcnMgYmVmb3JlIGFkZGluZyBuZXcgY29udGVudFxuICAgIC8vIFRoaXMgcHJldmVudHMgZHVwbGljYXRlIG1hcmtlcnMgdGhhdCBjb3VsZCBpbnRlcmZlcmUgd2l0aCBpbmZpbml0ZSBzY3JvbGxpbmdcbiAgICBjb25zdCBwYWdpbmF0aW9uRWxlbWVudHMgPSBwb3N0c0FyZWEucXVlcnlTZWxlY3RvckFsbCgnLm5leHRQYWdlLCAubm9Nb3JlUG9zdHMnKTtcbiAgICBwYWdpbmF0aW9uRWxlbWVudHMuZm9yRWFjaChlbCA9PiBlbC5yZW1vdmUoKSk7XG5cbiAgICAvLyBDcmVhdGUgYW5kIGRpc3BsYXkgYSBsb2FkaW5nIGluZGljYXRvciB0byBwcm92aWRlIHVzZXIgZmVlZGJhY2tcbiAgICBjb25zdCBsb2FkaW5nSW5kaWNhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbG9hZGluZ0luZGljYXRvci5jbGFzc05hbWUgPSAnbG9hZGluZy1pbmRpY2F0b3InO1xuICAgIGxvYWRpbmdJbmRpY2F0b3IudGV4dENvbnRlbnQgPSAnTG9hZGluZyBwb3N0cy4uLic7XG4gICAgcG9zdHNBcmVhLmFwcGVuZENoaWxkKGxvYWRpbmdJbmRpY2F0b3IpO1xuXG4gICAgLy8gTWFrZSBBSkFYIHJlcXVlc3QgdG8gdGhlIHNlcnZlciB0byBmZXRjaCBwb3N0c1xuICAgIC8vIFVzZXMgZmV0Y2ggQVBJIHdpdGggUE9TVCBtZXRob2QgdG8gc2VuZCBwYWdpbmF0aW9uIHBhcmFtZXRlcnNcbiAgICBmZXRjaCgnaW5jbHVkZXMvaGFuZGxlcnMvYWpheF9sb2FkX3Bvc3RzLnBocCcsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCdcbiAgICAgIH0sXG4gICAgICBib2R5OiBgcGFnZT0ke3BhZ2V9JnVzZXJMb2dnZWRJbj0ke3VzZXJMb2dnZWRJbn1gXG4gICAgfSlcbiAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpIC8vIFBhcnNlIEpTT04gcmVzcG9uc2VcbiAgICAudGhlbihkYXRhID0+IHtcbiAgICAgIC8vIFJlbW92ZSBsb2FkaW5nIGluZGljYXRvciBvbmNlIHJlc3BvbnNlIGlzIHJlY2VpdmVkXG4gICAgICBsb2FkaW5nSW5kaWNhdG9yLnJlbW92ZSgpO1xuXG4gICAgICAvLyBQcm9jZXNzIHN1Y2Nlc3NmdWwgcmVzcG9uc2UgZnJvbSBzZXJ2ZXJcbiAgICAgIGlmIChkYXRhLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnICYmIGRhdGEuZGF0YSkge1xuICAgICAgICBjb25zdCByZXNwb25zZURhdGEgPSBkYXRhLmRhdGE7XG4gICAgICAgIGNvbnN0IHBvc3RzID0gcmVzcG9uc2VEYXRhLnBvc3RzO1xuICAgICAgICBcbiAgICAgICAgaWYgKHBvc3RzICYmIHBvc3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAvLyBSZW5kZXIgZWFjaCBwb3N0IGluIHRoZSBET01cbiAgICAgICAgICBwb3N0cy5mb3JFYWNoKHBvc3QgPT4ge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGNvbnRhaW5lciBlbGVtZW50IGZvciB0aGUgcG9zdFxuICAgICAgICAgICAgY29uc3QgcG9zdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHBvc3RFbGVtZW50LmNsYXNzTmFtZSA9ICdyZWNpcGUtY2FyZCBjYXJkJzsgLy8gQ1NTIGNsYXNzZXMgZm9yIHN0eWxpbmdcbiAgICAgICAgICAgIHBvc3RFbGVtZW50LmRhdGFzZXQucG9zdGlkID0gcG9zdC5pZDsgICAgICAgLy8gU3RvcmUgcG9zdCBJRCBhcyBkYXRhIGF0dHJpYnV0ZVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBCdWlsZCBwb3N0IEhUTUwgc3RydWN0dXJlIHVzaW5nIHRlbXBsYXRlIGxpdGVyYWxzXG4gICAgICAgICAgICAvLyBUaGlzIGNyZWF0ZXMgdGhlIGNvbXBsZXRlIGNhcmQgd2l0aCB1c2VyIGltYWdlLCBjb250ZW50LCBhbmQgc3RhdHNcbiAgICAgICAgICAgIC8qaHRtbCovXG4gICAgICAgICAgICBwb3N0RWxlbWVudC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLXVzZXJJbWFnZVwiPlxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHtwb3N0LmFkZGVkX2J5LnByb2ZpbGVfcGljfVwiIGFsdD1cIlwiPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgXG5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWluZm9cIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1kZXNjXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmxvY2tcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWhlYWRpbmdzXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzcz1cImhlYWRpbmctMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIke3Bvc3QubGlua31cIj4ke3Bvc3QuaGVhZGluZ308L2E+XG4gICAgICAgICAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzcz1cImhlYWRpbmctM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICR7cG9zdC5hZGRlZF9ieS5maXJzdF9uYW1lfSAke3Bvc3QuYWRkZWRfYnkubGFzdF9uYW1lfVxuICAgICAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3M9XCJoZWFkaW5nLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAke3Bvc3QudGltZV9tZXNzYWdlfVxuICAgICAgICAgICAgICAgICAgICA8L2g0PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtc3RhdHNcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsaWtlc1wiPlxuICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3M9XCJoZWFkaW5nLTRcIj4ke3Bvc3QubGlrZXN9PC9oND5cbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIuL2Fzc2V0cy9pbWcvbGlrZS12Mi5zdmdcIiBhbHQ9XCJcIj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbW1lbnRzXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzcz1cImhlYWRpbmctNFwiPiR7cG9zdC5jb21tZW50c19jb3VudH08L2g0PlxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIi4vYXNzZXRzL2ltZy9jb21tZW50cy12Mi5zdmdcIiBhbHQ9XCJcIj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJvdmVybGF5XCI+PC9kaXY+XG4gICAgICAgICAgICAgICR7cG9zdC5pbWFnZSA/IGA8aW1nIHNyYz1cIiR7cG9zdC5pbWFnZX1cIiBjbGFzcz1cImNhcmQtYmdcIj5gIDogJyd9XG4gICAgICAgICAgICBgO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBBZGQgdGhlIGNvbXBsZXRlZCBwb3N0IGVsZW1lbnQgdG8gdGhlIHBvc3RzIGNvbnRhaW5lclxuICAgICAgICAgICAgcG9zdHNBcmVhLmFwcGVuZENoaWxkKHBvc3RFbGVtZW50KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBIYW5kbGUgcGFnaW5hdGlvbiBiYXNlZCBvbiBzZXJ2ZXIgcmVzcG9uc2VcbiAgICAgICAgICBpZiAocmVzcG9uc2VEYXRhLmhhc19tb3JlKSB7XG4gICAgICAgICAgICAvLyBJZiBtb3JlIHBvc3RzIGV4aXN0LCBhZGQgaGlkZGVuIGlucHV0IHdpdGggbmV4dCBwYWdlIG51bWJlclxuICAgICAgICAgICAgLy8gVGhpcyB3aWxsIGJlIHVzZWQgYnkgc2Nyb2xsVmlldyB0byBsb2FkIHRoZSBuZXh0IGJhdGNoXG4gICAgICAgICAgICBjb25zdCBuZXh0UGFnZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgICAgIG5leHRQYWdlSW5wdXQudHlwZSA9ICdoaWRkZW4nO1xuICAgICAgICAgICAgbmV4dFBhZ2VJbnB1dC5jbGFzc05hbWUgPSAnbmV4dFBhZ2UnO1xuICAgICAgICAgICAgbmV4dFBhZ2VJbnB1dC52YWx1ZSA9IHJlc3BvbnNlRGF0YS5uZXh0X3BhZ2U7XG4gICAgICAgICAgICBwb3N0c0FyZWEuYXBwZW5kQ2hpbGQobmV4dFBhZ2VJbnB1dCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIG5vIG1vcmUgcG9zdHMgZXhpc3QsIGFkZCBtYXJrZXIgdG8gcHJldmVudCBmdXJ0aGVyIHJlcXVlc3RzXG4gICAgICAgICAgICBjb25zdCBub01vcmVQb3N0c0lucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgICAgIG5vTW9yZVBvc3RzSW5wdXQudHlwZSA9ICdoaWRkZW4nO1xuICAgICAgICAgICAgbm9Nb3JlUG9zdHNJbnB1dC5jbGFzc05hbWUgPSAnbm9Nb3JlUG9zdHMnO1xuICAgICAgICAgICAgbm9Nb3JlUG9zdHNJbnB1dC52YWx1ZSA9ICd0cnVlJztcbiAgICAgICAgICAgIHBvc3RzQXJlYS5hcHBlbmRDaGlsZChub01vcmVQb3N0c0lucHV0KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQWxzbyBhZGQgdmlzaWJsZSBtZXNzYWdlIGluZGljYXRpbmcgZW5kIG9mIGNvbnRlbnRcbiAgICAgICAgICAgIGNvbnN0IG5vTW9yZVBvc3RzTWVzc2FnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgICAgIG5vTW9yZVBvc3RzTWVzc2FnZS5jbGFzc05hbWUgPSAnbm9Nb3JlUG9zdHMgY29sdW1uJztcbiAgICAgICAgICAgIG5vTW9yZVBvc3RzTWVzc2FnZS50ZXh0Q29udGVudCA9ICdObyBtb3JlIHBvc3RzIHRvIHNob3chJztcbiAgICAgICAgICAgIHBvc3RzQXJlYS5hcHBlbmRDaGlsZChub01vcmVQb3N0c01lc3NhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBIYW5kbGUgY2FzZSB3aGVyZSBubyBwb3N0cyB3ZXJlIHJldHVybmVkIChlbXB0eSBhcnJheSlcbiAgICAgICAgICBjb25zdCBub1Bvc3RzTWVzc2FnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgICBub1Bvc3RzTWVzc2FnZS5jbGFzc05hbWUgPSAnbm8tcG9zdHMtbWVzc2FnZSc7XG4gICAgICAgICAgbm9Qb3N0c01lc3NhZ2UudGV4dENvbnRlbnQgPSAnTm8gcG9zdHMgdG8gc2hvdy4nO1xuICAgICAgICAgIHBvc3RzQXJlYS5hcHBlbmRDaGlsZChub1Bvc3RzTWVzc2FnZSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQWRkIG1hcmtlciB0byBwcmV2ZW50IGZ1cnRoZXIgcmVxdWVzdHNcbiAgICAgICAgICBjb25zdCBub01vcmVQb3N0c0lucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgICBub01vcmVQb3N0c0lucHV0LnR5cGUgPSAnaGlkZGVuJztcbiAgICAgICAgICBub01vcmVQb3N0c0lucHV0LmNsYXNzTmFtZSA9ICdub01vcmVQb3N0cyc7XG4gICAgICAgICAgbm9Nb3JlUG9zdHNJbnB1dC52YWx1ZSA9ICd0cnVlJztcbiAgICAgICAgICBwb3N0c0FyZWEuYXBwZW5kQ2hpbGQobm9Nb3JlUG9zdHNJbnB1dCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEhhbmRsZSBlcnJvciByZXNwb25zZSBmcm9tIHNlcnZlclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIHBvc3RzOicsIGRhdGEubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcicpO1xuICAgICAgfVxuICAgIH0pXG4gICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgIC8vIEhhbmRsZSBuZXR3b3JrIGVycm9ycyBvciBKU09OIHBhcnNpbmcgZmFpbHVyZXNcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgcG9zdHM6JywgZXJyb3IpO1xuICAgICAgbG9hZGluZ0luZGljYXRvci5yZW1vdmUoKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIC8vIFJlc2V0IHByb2dyZXNzIGZsYWcgcmVnYXJkbGVzcyBvZiBzdWNjZXNzIG9yIGZhaWx1cmVcbiAgICAgIC8vIFRoaXMgYWxsb3dzIGZ1dHVyZSByZXF1ZXN0cyB0byBiZSBtYWRlXG4gICAgICB0aGlzLmluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICB9KTtcbiAgfVxuXG4gIExvYWRoaWdoTGlnaHRzKCkge1xuICAgIGZldGNoKCdpbmNsdWRlcy9oYW5kbGVycy9hamF4X2xvYWRfaGlnaGxpZ2h0X3Bvc3RzLnBocCcsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCdcbiAgICAgIH0sXG4gICAgICBib2R5OiBgdXNlckxvZ2dlZEluPSR7dXNlckxvZ2dlZElufWBcbiAgICB9KVxuICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAudGhlbihkYXRhID0+IHtcbiAgICAgIGlmIChkYXRhLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnICYmIGRhdGEuZGF0YSkge1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcG9zdHMgPSBkYXRhLmRhdGE7XG5cbiAgICAgICAgaWYgKHBvc3RzLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgIC8vIFJlbmRlciBlYWNoIHBvc3QgaW4gdGhlIERPTVxuICAgICAgICAgIHBvc3RzLmZvckVhY2gocG9zdCA9PiB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgY29udGFpbmVyIGVsZW1lbnQgZm9yIHRoZSBwb3N0XG4gICAgICAgICAgICBjb25zdCBwb3N0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgcG9zdEVsZW1lbnQuY2xhc3NOYW1lID0gJ3JlY2lwZS1jYXJkIGNhcmQnOyAvLyBDU1MgY2xhc3NlcyBmb3Igc3R5bGluZ1xuICAgICAgICAgICAgcG9zdEVsZW1lbnQuZGF0YXNldC5wb3N0aWQgPSBwb3N0LmlkOyAgICAgICAvLyBTdG9yZSBwb3N0IElEIGFzIGRhdGEgYXR0cmlidXRlXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEJ1aWxkIHBvc3QgSFRNTCBzdHJ1Y3R1cmUgdXNpbmcgdGVtcGxhdGUgbGl0ZXJhbHNcbiAgICAgICAgICAgIC8vIFRoaXMgY3JlYXRlcyB0aGUgY29tcGxldGUgY2FyZCB3aXRoIHVzZXIgaW1hZ2UsIGNvbnRlbnQsIGFuZCBzdGF0c1xuICAgICAgICAgICAgLypodG1sKi9cbiAgICAgICAgICAgIHBvc3RFbGVtZW50LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtdXNlckltYWdlXCI+XG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCIke3Bvc3QuYWRkZWRfYnkucHJvZmlsZV9waWN9XCIgYWx0PVwiXCI+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1pbmZvXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtZGVzY1wiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJsb2NrXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1oZWFkaW5nc1wiPlxuICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3M9XCJoZWFkaW5nLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiJHtwb3N0Lmxpbmt9XCI+JHtwb3N0LmhlYWRpbmd9PC9hPlxuICAgICAgICAgICAgICAgICAgICA8L2gyPlxuICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3M9XCJoZWFkaW5nLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAke3Bvc3QuYWRkZWRfYnkuZmlyc3RfbmFtZX0gJHtwb3N0LmFkZGVkX2J5Lmxhc3RfbmFtZX1cbiAgICAgICAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzPVwiaGVhZGluZy00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgJHtwb3N0LnRpbWVfbWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgICAgPC9oND5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLXN0YXRzXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGlrZXNcIj5cbiAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzPVwiaGVhZGluZy00XCI+JHtwb3N0Lmxpa2VzfTwvaDQ+XG4gICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiLi9hc3NldHMvaW1nL2xpa2UtdjIuc3ZnXCIgYWx0PVwiXCI+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb21tZW50c1wiPlxuICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3M9XCJoZWFkaW5nLTRcIj4ke3Bvc3QuY29tbWVudHNfY291bnR9PC9oND5cbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIuL2Fzc2V0cy9pbWcvY29tbWVudHMtdjIuc3ZnXCIgYWx0PVwiXCI+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwib3ZlcmxheVwiPjwvZGl2PlxuICAgICAgICAgICAgICAke3Bvc3QuaW1hZ2UgPyBgPGltZyBzcmM9XCIke3Bvc3QuaW1hZ2V9XCIgY2xhc3M9XCJjYXJkLWJnXCI+YCA6ICcnfVxuICAgICAgICAgICAgYDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQWRkIHRoZSBjb21wbGV0ZWQgcG9zdCBlbGVtZW50IHRvIHRoZSBwb3N0cyBjb250YWluZXJcbiAgICAgICAgICAgIHRoaXMuaGlnaExpZ2h0cy5hcHBlbmRDaGlsZChwb3N0RWxlbWVudCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgXG4gICAgICAgIH1cbiAgICAgXG4gICAgICB9IGVsc2UgaWYgKGRhdGEuc3RhdHVzID09PSAnZXJyb3InKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgaGlnaGxpZ2h0czonLCBkYXRhLm1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH0pXG4gICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgaGlnaGxpZ2h0czonLCBlcnJvcik7XG4gICAgfSk7XG4gIH1cblxuICBzY3JvbGxWaWV3KCkge1xuICAgIC8vIENoZWNrIGlmIHBvc3RzIGFyZWEgZXhpc3RzXG4gICAgY29uc3QgcG9zdHNBcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3N0c19hcmVhXCIpO1xuICAgIGlmICghcG9zdHNBcmVhKSByZXR1cm47XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgd2UndmUgcmVhY2hlZCB0aGUgZW5kIG9mIHBvc3RzXG4gICAgY29uc3Qgbm9Nb3JlUG9zdHNFbGVtZW50ID0gcG9zdHNBcmVhLnF1ZXJ5U2VsZWN0b3IoXCIubm9Nb3JlUG9zdHNcIik7XG4gICAgaWYgKG5vTW9yZVBvc3RzRWxlbWVudCAmJiBub01vcmVQb3N0c0VsZW1lbnQudmFsdWUgPT09IFwidHJ1ZVwiKSByZXR1cm47XG4gICAgXG4gICAgLy8gR2V0IGFsbCByZWNpcGUgY2FyZHNcbiAgICBjb25zdCByZWNpcGVjYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmVjaXBlLWNhcmRcIik7XG4gICAgaWYgKHJlY2lwZWNhcmRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIFxuICAgIC8vIENoZWNrIGlmIHdlJ3JlIG5lYXIgdGhlIGJvdHRvbSBvZiB0aGUgcGFnZVxuICAgIGNvbnN0IHNjcm9sbFBvc2l0aW9uID0gd2luZG93LnNjcm9sbFk7XG4gICAgY29uc3Qgd2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIGNvbnN0IGRvY3VtZW50SGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodDtcbiAgICBcbiAgICAvLyBJZiB3ZSdyZSB3aXRoaW4gMjAwcHggb2YgdGhlIGJvdHRvbSwgbG9hZCBtb3JlIHBvc3RzXG4gICAgaWYgKHNjcm9sbFBvc2l0aW9uICsgd2luZG93SGVpZ2h0ID49IGRvY3VtZW50SGVpZ2h0IC0gMjAwKSB7XG4gICAgICB0aGlzLmxvYWRQb3N0cygpO1xuICAgIH1cbiAgfVxuXG4gIGlzRWxlbWVudEluVmlldyhlbCkge1xuICAgIGlmIChlbCA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIHJldHVybiAoXG4gICAgICByZWN0LnRvcCA+PSAwICYmXG4gICAgICByZWN0LmxlZnQgPj0gMCAmJlxuICAgICAgcmVjdC5ib3R0b20gPD1cbiAgICAgICAgKHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KSAmJiAvLyogb3IgJCh3aW5kb3cpLmhlaWdodCgpXG4gICAgICByZWN0LnJpZ2h0IDw9ICh3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpIC8vKiBvciAkKHdpbmRvdykud2lkdGgoKVxuICAgICk7XG4gIH1cblxuICBzdW1tZXJOb3RlSW5pdCgpIHtcbiAgICAkKFwiI3N1bW1lcm5vdGVcIikuc3VtbWVybm90ZSh7XG4gICAgICBoZWlnaHQ6IDQwMCxcbiAgICAgIHBsYWNlaG9sZGVyOiBcIndyaXRlIGhlcmUuLi5cIixcbiAgICB9KTtcbiAgfVxuXG4gIGFkZFBvc3QoKSB7XG4gICAgY29uc3QgaW5wRmlsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5wRmlsZVwiKTtcbiAgICBjb25zdCBwcmV2aWV3Q29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbWdQcmV2aWV3XCIpO1xuICAgIGNvbnN0IHByZXZpZXdJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW1nLXByZXZpZXctaW1hZ2VcIik7XG4gICAgY29uc3QgcHJldmlld0RlZmF1bHRUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbWdQcmV2aWV3LURlZmF1bHRUeHRcIik7XG4gICAgY29uc3QgcG9zdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhYkFkZFBvc3RzIGZvcm1cIik7XG4gICAgY29uc3QgcG9zdEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9zdF9idXR0b25cIik7XG5cbiAgIFxuXG4gICAgLy8gU2V0IHVwIEFKQVggZm9ybSBzdWJtaXNzaW9uXG4gICAgaWYgKHBvc3RGb3JtICYmIHBvc3RCdXR0b24pIHtcbiAgICAgIGNvbnNvbGUubG9nKCdTZXR0aW5nIHVwIEFKQVggZm9ybSBzdWJtaXNzaW9uJyk7XG4gICAgICBcbiAgICAgIC8vIFByZXZlbnQgZm9ybSBmcm9tIHN1Ym1pdHRpbmcgdHJhZGl0aW9uYWxseVxuICAgICAgcG9zdEZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zb2xlLmxvZygnRm9ybSBzdWJtaXQgcHJldmVudGVkJyk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcG9zdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyAvLyBQcmV2ZW50IHRyYWRpdGlvbmFsIGZvcm0gc3VibWlzc2lvblxuICAgICAgICBjb25zb2xlLmxvZygnUG9zdCBidXR0b24gY2xpY2tlZCwgc3RhcnRpbmcgQUpBWCBzdWJtaXNzaW9uJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBHZXQgZm9ybSBkYXRhICh0aGlzIGF1dG9tYXRpY2FsbHkgaW5jbHVkZXMgZmlsZSBpbnB1dHMpXG4gICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKHBvc3RGb3JtKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFkZCB0aGUgcG9zdCBmaWVsZCB0byB0cmlnZ2VyIFBIUCBoYW5kbGVyIChzdWJtaXQgYnV0dG9uIG5hbWUpXG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZCgncG9zdCcsICdQb3N0Jyk7XG4gICAgICAgIFxuICAgICAgICAvLyBBZGQgYSBmaWVsZCB0byBpbmRpY2F0ZSB0aGlzIGlzIGFuIEFKQVggcmVxdWVzdFxuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2FqYXhfcmVxdWVzdCcsICcxJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBTaG93IGxvYWRpbmcgaW5kaWNhdG9yXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsVGV4dCA9IHBvc3RCdXR0b24udmFsdWU7XG4gICAgICAgIHBvc3RCdXR0b24udmFsdWUgPSBcIlBvc3RpbmcuLi5cIjtcbiAgICAgICAgcG9zdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIFxuICAgICAgICAvLyBBZGQgaGVhZGVyIHRvIGluZGljYXRlIHRoaXMgaXMgYW4gQUpBWCByZXF1ZXN0XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuICAgICAgICBoZWFkZXJzLmFwcGVuZCgnWC1SZXF1ZXN0ZWQtV2l0aCcsICdYTUxIdHRwUmVxdWVzdCcpO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdTZW5kaW5nIEFKQVggcmVxdWVzdCB3aXRoOicsIHtcbiAgICAgICAgICBcImhlYWRlcnNcIjogQXJyYXkuZnJvbShoZWFkZXJzLmVudHJpZXMoKSksXG4gICAgICAgICAgXCJmb3JtRGF0YSBlbnRyaWVzXCI6IEFycmF5LmZyb20oZm9ybURhdGEuZW50cmllcygpKVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFN1Ym1pdCB2aWEgQUpBWFxuICAgICAgICBmZXRjaCgnaW5kZXgucGhwJywge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgYm9keTogZm9ybURhdGEgLy8gVGhpcyBpbmNsdWRlcyB0aGUgZmlsZSBkYXRhXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnUmVzcG9uc2UgcmVjZWl2ZWQ6JywgcmVzcG9uc2UpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdSZXNwb25zZSBzdGF0dXM6JywgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnUmVzcG9uc2UgaGVhZGVyczonLCBBcnJheS5mcm9tKHJlc3BvbnNlLmhlYWRlcnMuZW50cmllcygpKSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHJlc3BvbnNlIGlzIEpTT05cbiAgICAgICAgICBjb25zdCBjb250ZW50VHlwZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwiY29udGVudC10eXBlXCIpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdDb250ZW50IHR5cGU6JywgY29udGVudFR5cGUpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChjb250ZW50VHlwZSAmJiBjb250ZW50VHlwZS5pbmRleE9mKFwiYXBwbGljYXRpb24vanNvblwiKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEdldCB0aGUgdGV4dCByZXNwb25zZSB0byBzZWUgd2hhdCB3ZSdyZSBhY3R1YWxseSBnZXR0aW5nXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UudGV4dCgpLnRoZW4odGV4dCA9PiB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdOb24tSlNPTiByZXNwb25zZSByZWNlaXZlZDonLCB0ZXh0KTtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBKU09OIHJlc3BvbnNlIGJ1dCBnb3Q6ICcgKyBjb250ZW50VHlwZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEuc3VjY2Vzcykge1xuICAgICAgICAgICAgLy8gQ2xlYXIgZm9ybVxuICAgICAgICAgICAgcG9zdEZvcm0ucmVzZXQoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gUmVzZXQgcHJldmlld1xuICAgICAgICAgICAgcHJldmlld0ltYWdlLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcIlwiKTtcbiAgICAgICAgICAgIHByZXZpZXdEZWZhdWx0VGV4dC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgcHJldmlld0ltYWdlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gUmVzZXQgc3VtbWVybm90ZSBlZGl0b3IgaWYgaXQgZXhpc3RzXG4gICAgICAgICAgICBpZiAod2luZG93LmpRdWVyeSAmJiAkKCcjc3VtbWVybm90ZScpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAkKCcjc3VtbWVybm90ZScpLnN1bW1lcm5vdGUoJ3Jlc2V0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFNob3cgc3VjY2VzcyBtZXNzYWdlXG4gICAgICAgICAgICBhbGVydChcIlBvc3QgY3JlYXRlZCBzdWNjZXNzZnVsbHkhXCIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTd2l0Y2ggdG8gdGltZWxpbmUgdGFiIHRvIHNlZSB0aGUgbmV3IHBvc3RcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuVGltZWxpbmVcIikuY2xpY2soKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gUmVsb2FkIHBvc3RzXG4gICAgICAgICAgICBsZXQgYWZ0ZXJQb3N0ID0gdHJ1ZTsgXG4gICAgICAgICAgICB0aGlzLmxvYWRQb3N0cyhhZnRlclBvc3QpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YSAmJiBkYXRhLmVycm9yKSB7XG4gICAgICAgICAgICBhbGVydChkYXRhLmVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gUmVzZXQgYnV0dG9uXG4gICAgICAgICAgcG9zdEJ1dHRvbi52YWx1ZSA9IG9yaWdpbmFsVGV4dDtcbiAgICAgICAgICBwb3N0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3I6JywgZXJyb3IpO1xuICAgICAgICAgIGFsZXJ0KFwiRXJyb3IgY3JlYXRpbmcgcG9zdFwiLCBlcnJvcik7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJlcnJvclwiICwgZXJyb3IpOyBcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBSZXNldCBidXR0b25cbiAgICAgICAgICBwb3N0QnV0dG9uLnZhbHVlID0gb3JpZ2luYWxUZXh0O1xuICAgICAgICAgIHBvc3RCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKFxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5maWxlLXVwbG9hZC1idXR0b25cIiksXG4gICAgICBmdW5jdGlvbiAoYnV0dG9uKSB7XG4gICAgICAgIGNvbnN0IGhpZGRlbklucHV0ID0gYnV0dG9uLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbnBGaWxlXCIpO1xuXG4gICAgICAgIGNvbnN0IGxhYmVsID0gYnV0dG9uLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5maWxlLXVwbG9hZC1sYWJlbFwiKTtcbiAgICAgICAgY29uc3QgZGVmYXVsdExhYmVsVGV4dCA9IFwiTm8gZmlsZSBzZWxlY3RlZFwiO1xuXG4gICAgICAgIC8vIFNldCBkZWZhdWx0IHRleHQgZm9yIGxhYmVsXG4gICAgICAgIGxhYmVsLnRleHRDb250ZW50ID0gZGVmYXVsdExhYmVsVGV4dDtcbiAgICAgICAgbGFiZWwudGl0bGUgPSBkZWZhdWx0TGFiZWxUZXh0O1xuXG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGhpZGRlbklucHV0LmNsaWNrKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGhpZGRlbklucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNvbnN0IGZpbGVuYW1lTGlzdCA9IEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChcbiAgICAgICAgICAgIGhpZGRlbklucHV0LmZpbGVzLFxuICAgICAgICAgICAgZnVuY3Rpb24gKGZpbGUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZpbGUubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuXG4gICAgICAgICAgbGFiZWwudGV4dENvbnRlbnQgPSBmaWxlbmFtZUxpc3Quam9pbihcIiwgXCIpIHx8IGRlZmF1bHRMYWJlbFRleHQ7XG4gICAgICAgICAgbGFiZWwudGl0bGUgPSBsYWJlbC50ZXh0Q29udGVudDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgKTtcblxuICAgIGxldCBwcmV2UGhvdG8gPSBwcmV2aWV3SW1hZ2UuZ2V0QXR0cmlidXRlKFwic3JjXCIpO1xuXG4gICAgaWYgKHByZXZpZXdJbWFnZS5nZXRBdHRyaWJ1dGUoXCJzcmNcIikgPT0gXCJcIikge1xuICAgICAgcHJldmlld0ltYWdlLnNldEF0dHJpYnV0ZShcInNyY1wiLCBudWxsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJldmlld0ltYWdlLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICBwcmV2aWV3RGVmYXVsdFRleHQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cblxuICAgIGlucEZpbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBmaWxlID0gdGhpcy5maWxlc1swXTtcblxuICAgICAgaWYgKGZpbGUpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcblxuICAgICAgICBwcmV2aWV3RGVmYXVsdFRleHQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICBwcmV2aWV3SW1hZ2Uuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblxuICAgICAgICByZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHByZXZpZXdJbWFnZS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgdGhpcy5yZXN1bHQpO1xuXG4gICAgICAgICAgLy8gZ2V0Q3JvcHBlZEltYWdlKFwic3JjXCIsIHRoaXMucmVzdWx0KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcmV2aWV3RGVmYXVsdFRleHQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgcHJldmlld0ltYWdlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuICAgICAgICBpZiAocHJldmlld0ltYWdlLmdldEF0dHJpYnV0ZShcInNyY1wiKSA9PSBcIlwiKSB7XG4gICAgICAgICAgcHJldmlld0ltYWdlLnNldEF0dHJpYnV0ZShcInNyY1wiLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbn1cblxuZXhwb3J0IGNvbnN0IGhvbWVwYWdlID0gbmV3IEhvbWVwYWdlKCk7XG4iXSwibmFtZXMiOlsiYXhpb3MiLCJIb21lcGFnZSIsIl90aGlzIiwiX2NsYXNzQ2FsbENoZWNrIiwiZXZlbnRzIiwiaGlnaExpZ2h0cyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInN1bW1lck5vdGUiLCJnZXRFbGVtZW50QnlJZCIsImluUHJvZ3Jlc3MiLCJpbmRleEJ0bnMiLCJhZGRFdmVudExpc3RlbmVyIiwic2Nyb2xsVmlldyIsImNvbnNvbGUiLCJsb2ciLCJfY3JlYXRlQ2xhc3MiLCJrZXkiLCJ2YWx1ZSIsImxvYWRQb3N0cyIsIkxvYWRoaWdoTGlnaHRzIiwic3VtbWVyTm90ZUluaXQiLCJhZGRQb3N0IiwiaW5kZXhUYWJzIiwidGFiSW5kZXgiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYnRuVHJlbmRzIiwiYnRuQWRkUG9zdHMiLCJidG5UaW1lbGluZSIsInRhYlRpbWVsaW5lIiwidGFiQWRkUG9zdHMiLCJ0YWJUcmVuZHMiLCJoaWRlTm9uc3RhcnRpbmdUYWJzSW5kZXgiLCJpbmRleHRhYnNsaW5rcyIsImluZGV4dGFicyIsImZvckVhY2giLCJpdGVtIiwiaWR4IiwiYWN0aXZlVGFiSW5kZXgiLCJmaW5kSW5kZXgiLCJ0YWIiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInN0eWxlIiwiZGlzcGxheSIsInJlbW92ZSIsInNldFRpbWVvdXQiLCJvZmZzZXRIZWlnaHQiLCJhZGQiLCJfdGhpczIiLCJhZnRlclBvc3QiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJwb3N0c0FyZWEiLCJpbm5lckhUTUwiLCJuZXh0UGFnZUVsZW1lbnQiLCJwYWdlIiwicGFnaW5hdGlvbkVsZW1lbnRzIiwiZWwiLCJsb2FkaW5nSW5kaWNhdG9yIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiY29uY2F0IiwidXNlckxvZ2dlZEluIiwidGhlbiIsInJlc3BvbnNlIiwianNvbiIsImRhdGEiLCJzdGF0dXMiLCJyZXNwb25zZURhdGEiLCJwb3N0cyIsInBvc3QiLCJwb3N0RWxlbWVudCIsImRhdGFzZXQiLCJwb3N0aWQiLCJpZCIsImFkZGVkX2J5IiwicHJvZmlsZV9waWMiLCJsaW5rIiwiaGVhZGluZyIsImZpcnN0X25hbWUiLCJsYXN0X25hbWUiLCJ0aW1lX21lc3NhZ2UiLCJsaWtlcyIsImNvbW1lbnRzX2NvdW50IiwiaW1hZ2UiLCJoYXNfbW9yZSIsIm5leHRQYWdlSW5wdXQiLCJ0eXBlIiwibmV4dF9wYWdlIiwibm9Nb3JlUG9zdHNJbnB1dCIsIm5vTW9yZVBvc3RzTWVzc2FnZSIsIm5vUG9zdHNNZXNzYWdlIiwiZXJyb3IiLCJtZXNzYWdlIiwiX3RoaXMzIiwibm9Nb3JlUG9zdHNFbGVtZW50IiwicmVjaXBlY2FyZHMiLCJzY3JvbGxQb3NpdGlvbiIsIndpbmRvdyIsInNjcm9sbFkiLCJ3aW5kb3dIZWlnaHQiLCJpbm5lckhlaWdodCIsImRvY3VtZW50SGVpZ2h0IiwiZG9jdW1lbnRFbGVtZW50Iiwic2Nyb2xsSGVpZ2h0IiwiaXNFbGVtZW50SW5WaWV3IiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRvcCIsImxlZnQiLCJib3R0b20iLCJjbGllbnRIZWlnaHQiLCJyaWdodCIsImlubmVyV2lkdGgiLCJjbGllbnRXaWR0aCIsIiQiLCJzdW1tZXJub3RlIiwiaGVpZ2h0IiwicGxhY2Vob2xkZXIiLCJfdGhpczQiLCJpbnBGaWxlIiwicHJldmlld0NvbnRhaW5lciIsInByZXZpZXdJbWFnZSIsInByZXZpZXdEZWZhdWx0VGV4dCIsInBvc3RGb3JtIiwicG9zdEJ1dHRvbiIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJvcmlnaW5hbFRleHQiLCJkaXNhYmxlZCIsIkhlYWRlcnMiLCJBcnJheSIsImZyb20iLCJlbnRyaWVzIiwiY29udGVudFR5cGUiLCJnZXQiLCJpbmRleE9mIiwidGV4dCIsIkVycm9yIiwic3VjY2VzcyIsInJlc2V0Iiwic2V0QXR0cmlidXRlIiwialF1ZXJ5IiwiYWxlcnQiLCJjbGljayIsInByb3RvdHlwZSIsImNhbGwiLCJidXR0b24iLCJoaWRkZW5JbnB1dCIsInBhcmVudEVsZW1lbnQiLCJsYWJlbCIsImRlZmF1bHRMYWJlbFRleHQiLCJ0aXRsZSIsImZpbGVuYW1lTGlzdCIsIm1hcCIsImZpbGVzIiwiZmlsZSIsIm5hbWUiLCJqb2luIiwicHJldlBob3RvIiwiZ2V0QXR0cmlidXRlIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsInJlc3VsdCIsInJlYWRBc0RhdGFVUkwiLCJob21lcGFnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./assets/js/pages/HomePage.js\n");

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ (() => {
/******/ 	__webpack_require__.h = () => ("feccc0bc4571e5475029")
/******/ })();
/******/ 
/******/ }
);